"'Generate image screen' As screen":
    Fill: =RGBA(216, 226, 232, 1)
    LoadingSpinnerColor: =RGBA(68, 57, 38, 1)
    OnVisible: |-
        =// Reset variables
        Set(varGTPResponseText, Blank());
        Set(varDallEImageUrl, Blank());
        
        // Generate description
        Set(varChatGtpResponse, SendRequestToOpenAI.Run("chatGPT", "write a proffesional fun max 70 words description for "& ctxGeneratorItem.displayName));
        Set(varTempResponseChoices, Table(ParseJSON(varChatGtpResponse.result).choices));
        Set(varGTPResponseText, Text(First(varTempResponseChoices).Value.text));
        
        // Generate Image
        Set(varDallEResponse, SendRequestToOpenAI.Run("image", "generate a photorealistic 4K image where you can see the entire item for "& varGTPResponseText));
        Set(varTempDallEResponseObject, First(Table(ParseJSON(varDallEResponse.result).data)));
        Set(varDallEImageUrl, Text(varTempDallEResponseObject.Value.url));

    Label1 As label:
        BorderColor: =RGBA(119, 77, 3, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Height: =70
        Size: =21
        Text: ="Generating image..."
        Width: =280
        X: =186
        Y: =455
        ZIndex: =1

    lblHeaderItemScreen_1 As label:
        Align: =Align.Center
        BorderColor: =RGBA(119, 77, 3, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Font: =Font.Georgia
        FontWeight: =FontWeight.Semibold
        Height: =104
        Size: =30
        Text: =ctxGeneratorItem.displayName
        Width: =615
        X: =19
        Y: =26
        ZIndex: =2

    icnBack_1 As icon.BackArrow:
        BorderColor: =RGBA(119, 77, 3, 1)
        Color: =RGBA(119, 77, 3, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(244, 244, 244, 1)
        Height: =102
        Icon: =Icon.CancelBadge
        OnSelect: =Back(ScreenTransition.Fade)
        Tooltip: ="close"
        Width: =109
        X: =385
        Y: =1018
        ZIndex: =3

    Icon3 As icon.Check:
        BorderColor: =RGBA(119, 77, 3, 1)
        Color: =RGBA(119, 77, 3, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(244, 244, 244, 1)
        Height: =102
        Icon: =Icon.CheckBadge
        OnSelect: |-
            =Set(varTempImageString, JSON(Image4.Image, JSONFormat.IncludeBinaryData));
            Set(varTempFlowResult, updateItemImage.Run(varTempImageString, ctxGeneratorItem.id));
            Back();
        Tooltip: ="Save"
        Width: =147
        X: =117
        Y: =1018
        ZIndex: =4

    Image4 As image:
        BorderColor: =RGBA(119, 77, 3, 1)
        BorderThickness: =2
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        Height: =550
        Image: =varDallEImageUrl
        RadiusBottomLeft: =40
        RadiusBottomRight: =40
        RadiusTopLeft: =40
        RadiusTopRight: =40
        Visible: =Not(IsBlank(varDallEImageUrl))
        Width: =550
        X: =49
        Y: =250
        ZIndex: =6

